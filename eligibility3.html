<!doctype html>
<html lang="en-GB">
<head>
<meta charset="UTF-8">
<meta name="description" content="Author: Jamie Marriott">
<meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1">
<link rel="stylesheet" href="css2/plymouth_reset.css">
<link rel="stylesheet" href="css2/plymouth_framework.css">
<link rel="stylesheet" href="css2/plymouth_theme.css">
<title>University of Plymouth</title>
<style>
:root {
--mb-module: 2em;
}
/*
* {
	outline: 1px dotted red;
	outline-offset: -1px;
}
*/
.p-responsive .p-responsive {
	padding: 1em;
}
.p-responsive .rounded-responsive {
	border-radius: 1em;
}
.w-26, .w-40, .w-53, .w-60, .w-80 {
	width: 100%;
}
.content-module-wrapper {
	margin-bottom: var(--mb-module);
	padding: 0 2em;
}

@media (max-width: 40em) {
.content-module-wrapper {
	padding: 0 1em;
}
}
.content-module-wrapper .content-module-wrapper {
	padding: 0;
}
.underline-success {
	border-bottom: 4px solid var(--btn-success);
}
.underline-primary {
	border-bottom: 4px solid var(--btn-primary);
}
.underline-light {
	border-bottom: 4px solid var(--btn-light);
}
.underline-black {
	border-bottom: 4px solid var(--black);
}
.box-success {
	color: var(--white);
	background-color: var(--btn-success);
}
.box-success a {
	color: var(--white);
}
.btn-rounded {
	border-radius: 2em;
}
.step-actions {
	display: flex;
	align-items: center;
	gap: 1em;
}
.previous-step {
	padding: 0;
	margin: 0;
}
.stroke-theme-black {
	outline: 2px solid var(--black);
	outline-offset: -2px;
	overflow: hidden;
}
.stroke-theme-white {
	outline: 2px solid var(--white);
	outline-offset: -2px;
	overflow: hidden;
}
hr {
	border: none;
	border-top: 2px dotted var(--mgrey);
}
.width-fit {
	display: inline-block;
	width: fit-content;
}
/* ── firework canvas: fills the green box, sits behind content ── */
.firework-host {
	position: relative;
	overflow: hidden;
}
.firework-host canvas.firework-canvas {
	position: absolute;
	inset: 0;
	width: 100%;
	height: 100%;
	pointer-events: none;   /* clicks pass through to links/buttons */
	z-index: 0;
}
.firework-host > *:not(canvas) {
	position: relative;
	z-index: 1;             /* all existing children sit above the canvas */
}

@media (prefers-reduced-motion: reduce) {
.firework-canvas {
	display: none;
}
}
</style>
</head>
<body>
<main class="pt-2"> 
  <!-- ── Step 1 start state ── -->
  <div class="content-module-wrapper">
    <div class="w-80">
      <h1>eligibility3</h1>
    </div>
  </div>
  <div class="content-module-wrapper">
    <div class="w-80 grid">
      <div class="underline-black">
        <div class="p-1">
          <p class="text-center"><strong>1. Confirm your course</strong></p>
        </div>
      </div>
      <div class="underline-light">
        <div class="p-1">
          <p class="text-center">2. Your qualifications</p>
        </div>
      </div>
      <div class="underline-light">
        <div class="p-1">
          <p class="text-center">3. Provisional outcome</p>
        </div>
      </div>
    </div>
  </div>
  <div class="content-module-wrapper">
    <div class="w-80 p-responsive rounded-responsive stroke">
      <h2>Your course of interest</h2>
      <p class="py-1"><span class="p-1 bg-color-light rounded-0-5"><strong>BA (Hons) Architecture</strong></span></p>
      <div class="mb-reg step-actions">
        <div><a href="#"><span class="iconfont" aria-hidden="true">P</span>Choose another course</a></div>
        <button class="btn btn-primary btn-rounded">Start eligibility check</button>
      </div>
    </div>
  </div>
  <hr>
  
  <!-- ── Step 2 ── -->
  <div class="content-module-wrapper">
    <div class="w-80 grid">
      <div class="underline-success">
        <div class="p-1">
          <p class="text-center">1. Confirm your course</p>
        </div>
      </div>
      <div class="underline-black">
        <div class="p-1">
          <p class="text-center"><strong>2. Your qualifications</strong></p>
        </div>
      </div>
      <div class="underline-light">
        <div class="p-1">
          <p class="text-center">3. Provisional outcome</p>
        </div>
      </div>
    </div>
  </div>
  <div class="content-module-wrapper">
    <div class="w-80 p-responsive rounded-responsive stroke">
      <h2>Your qualifications</h2>
      <p>Enter your known or expected UCAS tariff points. These are a numerical way of comparing qualifications. If you're unsure, try the <a href="#">UCAS tariff calculator</a>.</p>
      <p><strong>Your UCAS tariff points<span class="p-1 stroke-theme-black rounded-0-5 ml-1 tariff-largetext">128</span></strong></p>
      <div class="mb-reg step-actions">
        <div class="previous-step nowrap"><a href="#"><span class="iconfont" aria-hidden="true">P</span>Previous step</a></div>
        <button class="btn btn-primary btn-rounded">Check my eligibility</button>
      </div>
    </div>
  </div>
  <hr>
  
  <!-- ── Step 3 — positive outcome (fireworks here) ── -->
  <div class="content-module-wrapper">
    <div class="w-80 grid">
      <div class="underline-success">
        <div class="p-1">
          <p class="text-center">1. Confirm your course</p>
        </div>
      </div>
      <div class="underline-success">
        <div class="p-1">
          <p class="text-center">2. Your qualifications</p>
        </div>
      </div>
      <div class="underline-black">
        <div class="p-1">
          <p class="text-center"><strong>3. Provisional outcome</strong></p>
        </div>
      </div>
    </div>
  </div>
  <div class="content-module-wrapper"> 
    <!-- firework-host added; canvas injected by JS after sizing -->
    <div class="w-80 p-responsive rounded-responsive box-success firework-host" id="fireworkBox">
      <h2>Provisional outcome</h2>
      <h3>Great news</h3>
      <p><strong>Your tariff suggests you'd be a strong candidate for this course. We'd encourage you to apply when you're ready.</strong></p>
      <p>If you complete your enquiry, we can support you with tailored guidance and keep you updated as you move forward.</p>
      <div class="p-1 rounded-0-5 mb-reg bck-white black-text width-fit" data-theme="sea-green">
        <p>Your course: <strong>BA (Hons) Architecture</strong></p>
        <p>Your tariff: <strong>128</strong></p>
      </div>
      <p>Please note that the tariff you share is only used to tailor the advice you receive at this stage and doesn't commit you to anything. If you complete your enquiry, it will be included with your enquiry details.</p>
      <p><strong>Your UCAS tariff points<span class="p-1 stroke-theme-white rounded-0-5 ml-1 tariff-largetext">128</span></strong></p>
      <div class="step-actions">
        <div class="previous-step nowrap"><a href="#"><span class="iconfont" aria-hidden="true">P</span>Previous step</a></div>
        <button class="btn btn-primary btn-rounded">Continue your enquiry</button>
      </div>
    </div>
  </div>
  <hr>
  
  <!-- ── Step 3 — lower-tariff outcome (no fireworks) ── -->
  <div class="content-module-wrapper">
    <div class="w-80 grid">
      <div class="underline-success">
        <div class="p-1">
          <p class="text-center">1. Confirm your course</p>
        </div>
      </div>
      <div class="underline-success">
        <div class="p-1">
          <p class="text-center">2. Your qualifications</p>
        </div>
      </div>
      <div class="underline-black">
        <div class="p-1">
          <p class="text-center"><strong>3. Provisional outcome</strong></p>
        </div>
      </div>
    </div>
  </div>
  <div class="content-module-wrapper">
    <div class="w-80 p-responsive rounded-responsive stroke">
      <h2>Provisional outcome</h2>
      <h3>You still have options</h3>
      <p><strong>It looks like your current qualifications don't yet meet the usual entry level for university study. But that doesn't mean the door is closed.</strong></p>
      <p>Many students begin their higher education journey through one of our partner colleges, where you can study a programme designed to prepare you for university entry.</p>
      <p>We'd still like to support you – if you complete your enquiry, we can help you explore suitable pathways and connect you with the right options.</p>
      <div class="p-1 rounded-0-5 mb-reg bg-color-light width-fit">
        <p>Your course: <strong>BA (Hons) Architecture</strong></p>
        <p>Your tariff: <strong>20</strong></p>
      </div>
      <p>Please note that the tariff you share is only used to tailor the advice you receive at this stage and doesn't commit you to anything. If you complete your enquiry, it will be included with your enquiry details.</p>
      <div class="step-actions">
        <div class="previous-step nowrap"><a href="#"><span class="iconfont" aria-hidden="true">P</span>Previous step</a></div>
        <button class="btn btn-primary btn-rounded">Continue your enquiry</button>
      </div>
    </div>
  </div>
</main>
<script>
(() => {
  /* ── Respect prefers-reduced-motion ── */
  const prefersReducedMotion =
    window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  if (prefersReducedMotion) {
    return;
  }

  const host = document.getElementById('fireworkBox');
  if (!host) return;

  const canvas = document.createElement('canvas');
  canvas.className = 'firework-canvas';
  host.insertBefore(canvas, host.firstChild);

  const ctx = canvas.getContext('2d');

  /* ── Canvas sizing ── */
  function sizeCanvas() {
    canvas.width  = host.clientWidth;
    canvas.height = host.clientHeight;
  }
  sizeCanvas();
  window.addEventListener('resize', sizeCanvas);

  const rand = (a, b) => a + Math.random() * (b - a);
  const DURATION = 5000;
  const COLORS = [
    '#ff4757','#ffa502','#fff176','#70a1ff',
    '#ff6348','#fff','#00e5ff','#ce93d8',
    '#ffdd59','#fd79a8','#fff59d','#7bed9f'
  ];

  let particles = [];
  let rockets = [];
  let started = false;
  let startTime = 0;
  let nextLaunch = 0;

  const launches = [200, 1100, 2000, 2700, 3500];

  /* ── Particle ── */
  class Particle {
    constructor(x, y) {
      const angle = Math.random() * Math.PI * 2;
      const speed = rand(1.5, 4);
      this.x = x;
      this.y = y;
      this.vx = Math.cos(angle) * speed;
      this.vy = Math.sin(angle) * speed;
      this.alpha = 1;
      this.decay = rand(0.01, 0.025);
      this.size  = rand(1.5, 3);
      this.color = COLORS[Math.floor(Math.random() * COLORS.length)];
      this.px = x;
      this.py = y;
    }
    update() {
      this.px = this.x;
      this.py = this.y;
      this.vy += 0.04;
      this.vx *= 0.995;
      this.x += this.vx;
      this.y += this.vy;
      this.alpha -= this.decay;
    }
    draw() {
      ctx.globalAlpha = this.alpha * 0.4;
      ctx.strokeStyle = this.color;
      ctx.lineWidth = this.size * 0.7;
      ctx.lineCap = 'round';
      ctx.beginPath();
      ctx.moveTo(this.px, this.py);
      ctx.lineTo(this.x, this.y);
      ctx.stroke();

      ctx.globalAlpha = this.alpha;
      ctx.shadowColor = this.color;
      ctx.shadowBlur = 6;
      ctx.fillStyle = this.color;
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
      ctx.fill();
      ctx.shadowBlur = 0;
    }
  }

  /* ── Rocket ── */
  class Rocket {
    constructor() {
      const W = canvas.width;
      const H = canvas.height;
      this.x = rand(W * 0.2, W * 0.8);
      this.y = H;
      this.targetY = rand(H * 0.15, H * 0.4);
      this.speed = rand(7, 10);
      this.done = false;
      this.py = this.y;
    }
    update() {
      if (this.done) return;
      this.py = this.y;
      this.y -= this.speed;
      if (this.y <= this.targetY) this.explode();
    }
    explode() {
      this.done = true;
      const count = Math.floor(rand(60, 90));
      for (let i = 0; i < count; i++) {
        particles.push(new Particle(this.x, this.y));
      }
    }
    draw() {
      if (this.done) return;

      ctx.globalAlpha = 0.7;
      ctx.strokeStyle = '#fff';
      ctx.lineWidth = 2;
      ctx.lineCap = 'round';
      ctx.beginPath();
      ctx.moveTo(this.x, this.py);
      ctx.lineTo(this.x, this.y);
      ctx.stroke();

      ctx.globalAlpha = 1;
      ctx.shadowColor = '#fff';
      ctx.shadowBlur = 10;
      ctx.fillStyle = '#fff';
      ctx.beginPath();
      ctx.arc(this.x, this.y, 2, 0, Math.PI * 2);
      ctx.fill();
      ctx.shadowBlur = 0;
    }
  }

  /* ── Render loop ── */
  function loop(now) {
    const W = canvas.width;
    const H = canvas.height;
    const elapsed = now - startTime;

    while (nextLaunch < launches.length && elapsed >= launches[nextLaunch]) {
      rockets.push(new Rocket());
      nextLaunch++;
    }

    ctx.clearRect(0, 0, W, H);

    rockets.forEach(r => {
      r.update();
      r.draw();
    });

    particles = particles.filter(p => p.alpha > 0);
    particles.forEach(p => {
      p.update();
      p.draw();
    });

    ctx.globalAlpha = 1;

    if (elapsed < DURATION || particles.length > 0) {
      requestAnimationFrame(loop);
    }
  }

  /* ── Start when visible ── */
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting && !started) {
        started = true;
        startTime = performance.now();
        observer.disconnect();
        requestAnimationFrame(loop);
      }
    });
  }, { threshold: 0.25 });

  observer.observe(host);
})();
</script>
</body>
</html>
