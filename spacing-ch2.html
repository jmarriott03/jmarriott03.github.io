<!doctype html>
<html lang="en-GB">
<head>
<meta charset="UTF-8">
<meta name="description" content="Author: Jamie Marriott">
<meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1">

<link rel="stylesheet" href="css2/plymouth_reset.css">
<link rel="stylesheet" href="css2/plymouth_framework.css">
<link rel="stylesheet" href="css2/plymouth_theme.css">

<title>University of Plymouth</title>

<style>
/* --------------------------------------------------
   Debug
-------------------------------------------------- */

* {
	outline: 1px dotted red;
	outline-offset: -1px;
}

/* --------------------------------------------------
   Content module spacing system
-------------------------------------------------- */

.content-module-wrapper {
	--mb-module: 2em;
	display: flow-root;
	margin-bottom: var(--mb-module);
	padding: 0 2em;
}

@media (max-width: 40em) {
	.content-module-wrapper {
		padding: 0 1em;
	}
}

/* nested rhythm tightening */
.content-module-wrapper .content-module-wrapper {
	--mb-module: 1em;
	padding: 0;
}

/* spacing states */
.content-module-wrapper[data-spacing="none"] {
	--mb-module: 0;
}

.content-module-wrapper[data-spacing="default"] {
	--mb-module: 2em;
}

.content-module-wrapper[data-spacing="loose"] {
	--mb-module: 4em;
}

/* --------------------------------------------------
   Spacing controls (editor only)
-------------------------------------------------- */

body:not([data-mode="editor"]) .module-spacing-controls {
	display: none;
}

.module-spacing-controls {
	margin-bottom: 0.5em;
}

.module-spacing-controls fieldset {
	display: inline-flex;
	gap: 0.25em;
	border: 0;
	padding: 0;
	margin: 0;
}

.module-spacing-controls legend {
	position: absolute;
	left: -9999px;
}

.module-spacing-controls label {
	font-size: 0.75rem;
	padding: 0.25em 0.75em;
	border-radius: 1em;
	border: 1px solid currentColor;
	cursor: pointer;
	opacity: 0.5;
	user-select: none;
}

.module-spacing-controls input {
	position: absolute;
	left: -9999px;
}

.module-spacing-controls input:checked + label {
	opacity: 1;
	font-weight: 600;
}

/* --------------------------------------------------
   Your original demo styles
-------------------------------------------------- */

.p-responsive .p-responsive {
	padding: 1em;
}

.p-responsive .rounded-responsive {
	border-radius: 1em;
}

.w-26, .w-40, .w-53, .w-60, .w-80 {
	width: 100%;
}

.btn {
	float: none;
}

.btn-group {
	display: flex;
	gap: 1em;
	flex-wrap: wrap;
}

.btn-group .btn {
	margin: 0;
}

.blockquote {
	padding-left: 1em;
	border-left: 5px solid var(--mgrey);
}

.btn-rounded-resize {
	color: currentColor;
	border: 2px solid currentColor;
	font-size: 1.25rem;
	border-radius: 2rem;
	padding: 0.5rem;
	background: none;
	line-height: 1.5;
	text-align: left;
}

.btn-rounded-resize:hover {
	cursor: pointer;
}

.quotestyle:before {
	font-family: "Times New Roman", serif;
	font-size: 3em;
	font-weight: normal;
	line-height: 0.5em;
	content: "\275d";
	display: block;
	margin-top: 0.2em;
}

.quote-container {
	display: grid;
	grid-template-columns: auto 1fr;
}

.quote-image {
	width: 3.5em;
	height: 3.5em;
	border-radius: 50%;
	margin-right: 1em;
}
</style>
</head>

<body class="bg-color" data-theme="deep-orange" data-mode="editor">

<main class="pt-2">

	<div class="content-module-wrapper" data-spacing="default" data-module-id="module-1">
		<div class="module-spacing-controls">
			<fieldset>
				<legend>Module spacing</legend>

				<input type="radio" id="m1-none" name="m1-spacing" value="none">
				<label for="m1-none">None</label>

				<input type="radio" id="m1-default" name="m1-spacing" value="default" checked>
				<label for="m1-default">Default</label>

				<input type="radio" id="m1-loose" name="m1-spacing" value="loose">
				<label for="m1-loose">Loose</label>
			</fieldset>
		</div>

		<div class="w-80 bg-color">
			<h1>framework9</h1>
			<p>A lightweight, utility-based layout system that applies spacing and visual styling contextually.</p>
		</div>
	</div>

	<div class="content-module-wrapper" data-spacing="none" data-module-id="module-2">
		<div class="module-spacing-controls">
			<fieldset>
				<legend>Module spacing</legend>

				<input type="radio" id="m2-none" name="m2-spacing" value="none" checked>
				<label for="m2-none">None</label>

				<input type="radio" id="m2-default" name="m2-spacing" value="default">
				<label for="m2-default">Default</label>

				<input type="radio" id="m2-loose" name="m2-spacing" value="loose">
				<label for="m2-loose">Loose</label>
			</fieldset>
		</div>

		<div class="w-80 rounded-responsive bg-color-light">
			<div class="p-responsive">
				<p>Module with spacing removed.</p>
			</div>
		</div>
	</div>

	<div class="content-module-wrapper" data-spacing="loose" data-module-id="module-3">
		<div class="module-spacing-controls">
			<fieldset>
				<legend>Module spacing</legend>

				<input type="radio" id="m3-none" name="m3-spacing" value="none">
				<label for="m3-none">None</label>

				<input type="radio" id="m3-default" name="m3-spacing" value="default">
				<label for="m3-default">Default</label>

				<input type="radio" id="m3-loose" name="m3-spacing" value="loose" checked>
				<label for="m3-loose">Loose</label>
			</fieldset>
		</div>

		<div class="w-80 rounded-responsive bg-color-light">
			<div class="p-responsive">
				<h2>Loose spacing module</h2>
				<p>This module opts into extra separation.</p>
				<div class="btn-group">
					<button class="btn btn-primary">Primary</button>
					<button class="btn btn-secondary">Secondary</button>
				</div>
			</div>
		</div>
	</div>

</main>

<script>
(function () {
	const STORAGE_KEY = 'content-module-spacing';

	const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}');

	Object.keys(saved).forEach(function (id) {
		const wrapper = document.querySelector('[data-module-id="' + id + '"]');
		if (!wrapper) return;
		wrapper.setAttribute('data-spacing', saved[id]);
		const input = wrapper.querySelector('input[value="' + saved[id] + '"]');
		if (input) input.checked = true;
	});

	document.addEventListener('change', function (event) {
		const input = event.target;
		if (!input.matches('.module-spacing-controls input')) return;

		const wrapper = input.closest('.content-module-wrapper');
		if (!wrapper) return;

		const value = input.value;
		const id = wrapper.getAttribute('data-module-id');

		wrapper.setAttribute('data-spacing', value);

		if (id) {
			saved[id] = value;
			localStorage.setItem(STORAGE_KEY, JSON.stringify(saved));
		}
	});
})();
</script>

</body>
</html>
