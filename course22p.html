<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="description" content="Author: Jamie Marriott">
<meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1">
<link rel="stylesheet" href="css/reset.css">
<title>University of Plymouth</title>
<style>
:root {
--highlight-light: #b4c960;
--highlight-dark: #a80075;
}
/*
* {
    border: 1px dotted red;
}
*/
.bck-highlight-light {
    background-color: var(--highlight-light);
}
.bck-highlight-dark {
    background-color: var(--highlight-dark);
}
html {
    scroll-behavior: smooth;
}
.navbar {
    position: sticky;
    top: 0;
    padding: 2rem;
    z-index: 1000;
}
.navbar a {
    text-decoration: none;
    padding: 0.5rem 0.75rem;
    font-size: 1rem;
    transition: background-color 0.3s;
    border-radius: 0.25rem;
	text-align: center;
	height: 2.6rem;
}
.navbar a:not(:last-child) {
    margin-right: 1rem;
}
.navbar a.active {
    background-color: rgba(0, 0, 0, 0.2);
    cursor: default;
    font-weight: bold;
}
.header {
    width: 100%;
}
.nav-button-clearing {
    color: var(--white);
    background-color: var(--btn-success);
    font-weight: bold;
    border-radius: 0.25rem;
    padding: 0.5rem 0.75rem;
}
.nav-button-clearing:hover, .nav-button-clearing:focus {
    color: var(--white);
    background-color: var(--btn-success-hov);
}
.nav-button-openday {
    color: var(--white);
    background-color: var(--btn-primary);
    font-weight: bold;
    border-radius: 0.25rem;
    padding: 0.5rem 0.75rem;
}
.nav-button-openday:hover, .nav-button-openday:focus {
    color: var(--white);
    background-color: var(--btn-primary-hov);
}
.nav-link {
    color: var(--black);
}
.nav-link:hover {
    background-color: rgba(0, 0, 0, 0.1);
}
section {
    max-width: 80em;
    overflow: hidden;
    padding: 2rem;
}
section :last-child {
    margin-bottom: 0;
}
.nav-container {
    max-width: 81rem;
    display: flex;
    justify-content: space-between;
    width: 100%;
    margin: 0 auto;
}
.course-title {
	opacity: 0;
    transition: opacity 0.3s ease-in-out;
}
@media (max-width: 80em) {
.navbar {
    display: none;
}
}
.p-half {
    padding: 0.5rem;
}
.w-5 {
    width: 5rem;
}
.w-5half {
    width: 5.5rem;
}
.w-6 {
    width: 6rem;
}
.w-7 {
    width: 7rem;
}
.w-8 {
    width: 8rem;
}
.w-9 {
    width: 9rem;
}
</style>
</head>
<body>
<main>
  <img src="images/1280x400babbage.jpg" width="1280" height="400" alt="">
  <div class="navbar mrfrosty shadow">
    <div class="nav-container">
      <span class="course-title">BEng (Hons)<br>
      <strong>Electrical and Electronic Engineering</strong></span>
      <a href="#section1" class="nav-link w-5" data-section="section1">About</a>
      <a href="#section2" class="nav-link w-5" data-section="section2">Details</a>
      <a href="#section3" class="nav-link w-7" data-section="section3">Experience</a>
      <a href="#section4" class="nav-link w-5half" data-section="section4">Careers</a>
      <a href="#section5" class="nav-link w-9" data-section="section5">Fees and funds</a>
      <a href="#section5" class="nav-link w-5" data-section="section6">Apply</a>
    </div>
  </div>
  <section id="section1">
    <h2>About placeholder</h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <button class="btn btn-primary">Register for open day</button>
  </section>
  <section id="section2" class="bck-lgrey">
    <h2>Details placeholder</h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
  </section>
  <section id="section3">
    <h2>Experience placeholder</h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
  </section>
  <section id="section4" class="bck-lgrey">
    <h2>Careers placeholder</h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
  </section>
  <section id="section5">
    <h2>Fees and funds placeholder</h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
  </section>
  <section id="section6" class="bck-lgrey">
    <h2>Apply placeholder</h2>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
  </section>
</main>
<script>
// Get all navigation links
    const navLinks = document.querySelectorAll('.nav-link');

    // Function to scroll to the section with an offset for the navbar
    function scrollToSection(event) {
        event.preventDefault(); // Prevent default anchor click behavior

        const targetId = event.target.getAttribute('data-section');
        const targetSection = document.getElementById(targetId);

        if (targetSection) {
            const navbarHeight = 92; // Height of the navbar
            const sectionPosition = targetSection.offsetTop - navbarHeight;

            window.scrollTo({
                top: sectionPosition
                , behavior: 'smooth'
            });
        }
    }

    // Add click event listeners to navigation links
    navLinks.forEach(link => {
        link.addEventListener('click', scrollToSection);
    });

    // IntersectionObserver setup for section highlighting
    const observerOptions = {
        root: null, // Use the viewport as the root
        threshold: 0.5 // Trigger when 50% of the section is visible
    };

    const observerCallback = (entries) => {
        entries.forEach(entry => {
            const navLink = document.querySelector(`.nav-link[data-section="${entry.target.id}"]`);
            if (entry.isIntersecting) {
                // Remove active class from all links
                navLinks.forEach(link => link.classList.remove('active'));
                // Add active class to the currently visible section's link
                navLink.classList.add('active');
            }
        });
    };

    const observer = new IntersectionObserver(observerCallback, observerOptions);

    // Observe all sections
    document.querySelectorAll('section')
        .forEach(section => {
            observer.observe(section);
        });

    // Ensure proper highlight on page load
    window.addEventListener('load', () => {
        const navbarHeight = 92;
        const currentScroll = window.scrollY + navbarHeight;

        let activeLinkFound = false;
        document.querySelectorAll('section')
            .forEach((section, i) => {
                const rect = section.getBoundingClientRect();
                const top = rect.top + window.scrollY;

                if (!activeLinkFound && top <= currentScroll && top + section.offsetHeight > currentScroll) {
                    navLinks.forEach(link => link.classList.remove('active'));
                    const currentNavLink = document.querySelector(`.nav-link[data-section="${section.id}"]`);
                    currentNavLink.classList.add('active');
                    activeLinkFound = true;
                }
            });
    });

const navbar = document.querySelector('.navbar');
const courseTitle = document.querySelector('.course-title');

// Debounce function to limit the frequency of scroll event handling
let scrollTimeout;
function checkNavbarSticky() {
    clearTimeout(scrollTimeout);
    scrollTimeout = setTimeout(() => {
        const navbarOffset = navbar.offsetTop;
        if (window.scrollY >= navbarOffset) {
            courseTitle.style.opacity = 1;
        } else {
            courseTitle.style.opacity = 0;
        }
    }, 1); // Delay to prevent constant updates
}

// Listen for scroll events
window.addEventListener('scroll', checkNavbarSticky);

</script>
</body>
</html>