<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="description" content="Author: Jamie Marriott">
<meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1">
<link rel="stylesheet" href="css/plymouth_reset.css">
<link rel="stylesheet" href="css/plymouth_framework.css">
<title>University of Plymouth</title>
<style>
:root {
--highlight-light: #c5daed;
--highlight-dark: #1b5283;
}
/*
* {
    border: 1px dotted red;
}
*/
.c-highlight-light {
    color: var(--highlight-dark);
}
.c-highlight-dark {
    color: var(--highlight-dark);
}
.bck-highlight-light {
    background-color: var(--highlight-light);
}
.bck-highlight-dark {
    background-color: var(--highlight-dark);
}
.w-60 {
    max-width: 60em;
    overflow: hidden;
}
.w-60 :last-child {
    margin-bottom: 0;
}
summary {
    cursor: pointer;
    padding: 0.5em;
}
details {
    margin: 0;
    border-bottom: 1px solid #CCC;
}
summary > * {
    display: inline;
}
details > p {
    margin: 0.5em;
}
details summary::-webkit-details-marker, details summary::marker {
display: none;
content: "";
}
details > summary::before {
    font-family: 'icon', sans-serif;
    font-weight: normal;
    content: 'O';
    float: right;
}
details[open] > summary::before {
    content: "M";
}
/* Float buttons left */
.tab-header {
    overflow: hidden; /* Clear the floated buttons */
    margin-bottom: 1.5em;
}
.tab-header button {
    font-size: 1em;
    font-weight: bold;
    line-height: 1.5;
    border-radius: 0.25em;
    padding: 0.5em 0.75em;
    margin: 1em 1em 0 0;
    text-decoration: none;
    cursor: default;
    display: block;
    border: none;
    float: left;
    -webkit-appearance: none;
    outline-offset: 2px;
    transition: 0.3s;
    color: var(--black);
    background-color: var(--lgrey);
}
.tab-header button.active {
    color: var(--white);
    background-color: var(--highlight-dark);
}
.tab-header button:hover, .tab-header button:focus {
    color: var(--white);
    background-color: var(--highlight-dark);
}
.tab-content {
    overflow: hidden;
    position: relative;
    transition: height 0.3s ease; /* Smooth height transition */
}
.tab-panel {
    width: 100%;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease, visibility 0s linear 0.3s;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: auto;
    visibility: hidden;
}
.tab-panel.active {
    opacity: 1;
    pointer-events: auto;
    position: relative;
    visibility: visible;
    height: auto;
    transition: opacity 0.3s ease, visibility 0s linear 0s;
}
.text-resize-light h2 {
    font-size: 2.5em;
    font-weight: lighter;
}

/*Media queries*/
@media (max-width: 60em) {
.text-resize-light h2 {
    font-size: 1.5em;
}
}
.arrowlink .arrow {
    display: inline-block;
    transition: transform 0.3s ease;
}
.arrowlink:hover .arrow, .arrowlink:focus .arrow {
    transform: translateX(0.5em);
}
.stroke-highlight-dark {
    outline: 2px solid var(--highlight-dark);
    outline-offset: -2px;
    overflow: hidden;
}
.keyfacts {
    display: grid;
    grid-template-columns: repeat(6, auto);
    outline: 1em solid var(--highlight-dark);
    outline-offset: -1em;
}
.keyfacts > * {
    width: 100%;
}
.keyfacts strong {
    font-size: 2em;
    line-height: 1;
}
/*
.box {
    border: 1px solid var(--white);
}
*/
.box {
    padding: 1em;
}

@media (max-width: 60em) {
.keyfacts {
    grid-template-columns: repeat(3, auto);
}
}

@media (max-width: 40em) {
.keyfacts {
    grid-template-columns: repeat(2, auto);
}
}
.btn-rounded {
    color: var(--white);
    background-color: var(--btn-primary);
    border-radius: 2em;
    padding: 0.5em 0.75em;
    line-height: 1.5;
    text-align: left;
    font-size: 1em;
    font-weight: bold;
    border: none;
    transition: background-color 0.3s ease, transform 0.3s ease;
}
.btn-rounded:hover, .btn-rounded-:focus {
    cursor: pointer;
    background-color: var(--btn-primary-hov);
}
.p-resize2 {
    padding: 2em;
}
.rounded-resize {
    border-radius: 2em;
    overflow: hidden;
}

@media (max-width: 60em) {
.p-resize2 {
    padding: 1em;
}
.rounded-resize {
    border-radius: 1em;
}
}
.container {
    display: grid;
    gap: 20px;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    width: 100%;
}

@media (min-width: 40em) {
.container {
    grid-template-columns: repeat(2, 1fr);
}
}
.card {
    width: 100%;
    margin-bottom: 0;
}
</style>
</head>
<body class="p-resize2">
<main>
  <div class="w-60 p-resize2 rounded-resize stroke-highlight-dark">
    <div class=" c-highlight-dark">
      <h2>Tuition fees</h2>
    </div>
    <div class="tab-header">
      <button class="tab-btn active" data-tab="one">UK student fees</button>
      <button class="tab-btn" data-tab="two">International student fees</button>
    </div>
    <div class="tab-content">
      <div class="tab-panel active" id="tab-one">
        <h2>Entry requirements</h2>
        <div class="container mb-reg">
          <div class="card rounded-1 p-1 bck-highlight-dark white-text mb-reg">
            <p>Full-time study <br>
              <span class="largetext"><strong>£9,535 per year</strong></span></p>
          </div>
          <div class="card rounded-1 p-1 bck-highlight-dark white-text mb-reg">
            <p>Part-time study <br>
              <span class="largetext"><strong>£975 per 10 credits</strong></span></p>
          </div>
          <div class="card rounded-1 p-1 bck-highlight-dark white-text mb-reg">
            <p>Optional placement year completed in the UK <br>
              <span class="largetext"><strong>£1,850</strong></span></p>
          </div>
          <div class="card rounded-1 p-1 bck-highlight-dark white-text mb-reg">
            <p>Optional placement year completed outside the UK <br>
              <span class="largetext"><strong>£1,385</strong></span></p>
          </div>
        </div>
        <details>
          <summary>
            <h3>Tuition fee changes</h3>
          </summary>
          <p>Content</p>
        </details>
      </div>
      <div class="tab-panel" id="tab-two">
        <h2>International entry requirements</h2>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
      </div>
    </div>
  </div>
</main>
<script>
const tabButtons = document.querySelectorAll('.tab-btn');
const tabPanels = document.querySelectorAll('.tab-panel');
const tabContent = document.querySelector('.tab-content');
let currentPanel = document.querySelector('.tab-panel.active');

function activateTab(newPanel) {
    // Measure the current height before the change
    const startHeight = tabContent.offsetHeight;

    // Start fading out the current panel
    currentPanel.style.opacity = '0';

    // Measure the new panel's height immediately
    const endHeight = newPanel.offsetHeight;

    // Set the initial height for transition
    tabContent.style.height = `${startHeight}px`;

    // Force reflow to ensure the height change is applied
    tabContent.offsetHeight; // Trigger reflow

    // Trigger height transition and prepare to fade in the new panel
    tabContent.style.height = `${endHeight}px`;

    // Wait for the opacity transition to complete (300ms)
    currentPanel.addEventListener('transitionend', () => {
        currentPanel.classList.remove('active');
        currentPanel.style.opacity = ''; // Reset opacity

        // Activate the new panel
        newPanel.classList.add('active');
        newPanel.style.opacity = '1'; // Ensure it's fully visible

        // Set height to auto after the height transition ends
        tabContent.addEventListener('transitionend', () => {
            tabContent.style.height = 'auto';
        }, { once: true });

        // Update the current panel reference
        currentPanel = newPanel;
    }, { once: true });
}

tabButtons.forEach(button => {
    button.addEventListener('click', () => {
        if (button.classList.contains('active')) return; // Prevent action if already active

        // Remove active class from current button
        tabButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');

        // Find the corresponding new panel
        const newPanel = document.querySelector(`#tab-${button.dataset.tab}`);
        activateTab(newPanel);
    });
});
</script>
</body>
</html>
